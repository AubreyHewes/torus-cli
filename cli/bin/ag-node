#!/usr/bin/env node
// vim: set filetype=javascript;
'use strict';

function main () {
  var arigato = require('../lib/arigato');
  var output = require('../lib/cli/output');
  process.title = 'ag';

  var opts = {
    arigatoRoot: process.env.ARIGATO_ROOT,
    argv: process.argv
  };

  arigato.run(opts).then(function (exitCode) {
    process.exit(exitCode);
  }, function (err) {
    if (err) {
      output.error(err);
    }

    process.exit(1);
  });
}

if (require.main === module) {
  main();
}
